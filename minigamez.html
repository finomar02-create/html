<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kuis Interaktif</title>

<style>
    body {
        margin: 0;
        background: #0f0f1a;
        font-family: Arial, sans-serif;
        color: white;
        text-align: center;
    }

    #startScreen, #quizContainer, #resultScreen, #leaderboard {
        display: none;
        padding: 20px;
    }

    #startScreen {
        display: block;
        margin-top: 140px;
    }

    button {
        padding: 12px 25px;
        margin: 10px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        background: #6b46c1;
        color: white;
        cursor: pointer;
        transition: .3s;
    }

    button:hover {
        background: #553099;
    }

    .option {
        display: block;
        background: #1a1a2e;
        border: 2px solid #6b46c1;
        padding: 10px;
        margin: 10px auto;
        width: 80%;
        border-radius: 8px;
        cursor: pointer;
        transition: .3s;
    }

    .option:hover {
        background: #252542;
    }

    #footer {
        margin-top: 40px;
        padding: 15px;
        font-size: 14px;
        opacity: 0.8;
    }

    /* Confetti Canvas */
    #confettiCanvas {
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        display: none;
    }
</style>
</head>
<body>

<canvas id="confettiCanvas"></canvas>

<!-- Halaman Mulai -->
<div id="startScreen">
    <h1>Selamat Datang di Kuis Interaktif</h1>
    <button onclick="startQuiz()">Mulai Kuis</button>
</div>

<!-- Kuis -->
<div id="quizContainer">
    <h2 id="question"></h2>
    <div id="options"></div>

    <p id="progress"></p>
</div>

<!-- Hasil -->
<div id="resultScreen">
    <h2 id="finalScore"></h2>
    <button onclick="saveScore()">Simpan ke Leaderboard</button>
    <button onclick="showLeaderboard()">Lihat Leaderboard</button>
    <button onclick="location.reload()">Main Lagi</button>
</div>

<!-- Leaderboard -->
<div id="leaderboard">
    <h2>Leaderboard</h2>
    <ul id="leaderList"></ul>
    <button onclick="location.reload()">Kembali</button>
</div>

<div id="footer">
    Farid & Alfino | SMA Negeri Kabuh ‚Äî 2025
</div>

<script>
/* ===========================
   40 SOAL DENGAN 5 OPSI
   =========================== */
const quizData = [
    {q:"Ibukota negara Jepang adalah?", o:["Tokyo","Osaka","Kyoto","Nagoya","Fukuoka"], a:"Tokyo"},
    {q:"Unsur dengan simbol 'O' adalah?", o:["Oksigen","Osmium","Oganesson","Oksida","Oxen"], a:"Oksigen"},
    {q:"Planet terbesar di tata surya?", o:["Jupiter","Saturnus","Neptunus","Uranus","Bumi"], a:"Jupiter"},
    {q:"Gunung tertinggi di dunia?", o:["Everest","K2","Lhotse","Makalu","Denali"], a:"Everest"},
    {q:"Proklamasi Indonesia pada tahun?", o:["1945","1940","1950","1935","1965"], a:"1945"},
    {q:"Hewan tercepat di darat?", o:["Cheetah","Singa","Kuda","Serigala","Zebra"], a:"Cheetah"},
    {q:"Lambang unsur Na adalah?", o:["Natrium","Nitrogen","Neon","Nikel","Nobelium"], a:"Natrium"},
    {q:"Benua terbesar?", o:["Asia","Afrika","Amerika","Eropa","Australia"], a:"Asia"},
    {q:"Laut terdalam di dunia?", o:["Palung Mariana","Laut Merah","Laut Hitam","Atlantik","Pasifik"], a:"Palung Mariana"},
    {q:"Ilmuwan teori relativitas?", o:["Einstein","Newton","Tesla","Edison","Darwin"], a:"Einstein"},

    {q:"Mata uang Amerika?", o:["Dolar","Euro","Yen","Peso","Pound"], a:"Dolar"},
    {q:"Presiden pertama RI?", o:["Soekarno","Soeharto","Habibie","Megawati","Gus Dur"], a:"Soekarno"},
    {q:"Bahasa resmi Brasil?", o:["Portugis","Spanyol","Prancis","Italia","Inggris"], a:"Portugis"},
    {q:"Hewan terbesar di bumi?", o:["Paus Biru","Gajah","Orca","Hiu Paus","Sapi Laut"], a:"Paus Biru"},
    {q:"Satuan SI untuk gaya?", o:["Newton","Joule","Watt","Ohm","Volt"], a:"Newton"},
    {q:"Tumbuhan membuat makanan melalui?", o:["Fotosintesis","Respirasi","Difusi","Fermentasi","Osmosis"], a:"Fotosintesis"},
    {q:"Negara dengan penduduk terbanyak?", o:["Tiongkok","India","AS","Rusia","Brasil"], a:"Tiongkok"},
    {q:"Pulau terbesar di Indonesia?", o:["Kalimantan","Sumatra","Papua","Sulawesi","Jawa"], a:"Kalimantan"},
    {q:"Logam yang paling ringan?", o:["Litium","Aluminium","Magnesium","Perak","Emas"], a:"Litium"},
    {q:"Bangunan Taj Mahal terletak di?", o:["India","Pakistan","Iran","Nepal","Turki"], a:"India"},

    {q:"Kota paling padat di dunia?", o:["Tokyo","Mumbai","Jakarta","Seoul","New York"], a:"Tokyo"},
    {q:"Hewan pemakan daging disebut?", o:["Karnivora","Herbivora","Omnivora","Insektivora","Detritivora"], a:"Karnivora"},
    {q:"Alat ukur suhu?", o:["Termometer","Barometer","Higrometer","Altimeter","Speedometer"], a:"Termometer"},
    {q:"Candi Borobudur terletak di?", o:["Magelang","Solo","Malang","Bogor","Cirebon"], a:"Magelang"},
    {q:"Penemu bola lampu?", o:["Edison","Newton","Bell","Tesla","Faraday"], a:"Edison"},
    {q:"Rumah adat Toraja?", o:["Tongkonan","Joglo","Gadang","Honai","Limas"], a:"Tongkonan"},
    {q:"Gas pelindung bumi?", o:["Ozon","Nitrogen","Hidrogen","Metana","Helium"], a:"Ozon"},
    {q:"Benua terkecil?", o:["Australia","Eropa","Asia","Afrika","Antartika"], a:"Australia"},
    {q:"Gunung aktif di Jawa Timur?", o:["Semeru","Sindoro","Kerinci","Rinjani","Slamet"], a:"Semeru"},
    {q:"Proses air jadi uap?", o:["Evaporasi","Kondensasi","Sublimasi","Presipitasi","Difusi"], a:"Evaporasi"},

    {q:"Atom bermuatan disebut?", o:["Ion","Isotop","Kation","Anion","Gugus"], a:"Ion"},
    {q:"Tahun kabisat berjumlah?", o:["366 hari","365 hari","364 hari","360 hari","370 hari"], a:"366 hari"},
    {q:"Tulisan suku Maya?", o:["Hieroglif","Kanji","Hangeul","Arab","Sanskerta"], a:"Hieroglif"},
    {q:"Kerajaan tertua di Indonesia?", o:["Kutai","Majapahit","Sriwijaya","Mataram","Pajajaran"], a:"Kutai"},
    {q:"Kucing takut apa?", o:["Air","Api","Dingin","Sinar","Angin"], a:"Air"},
    {q:"Alat untuk mengukur tekanan udara?", o:["Barometer","Termometer","Volt meter","Ampere meter","Lux meter"], a:"Barometer"},
    {q:"Hewan amfibi?", o:["Katak","Kelinci","Ayam","Ular","Kuda"], a:"Katak"},
    {q:"Gunung berapi terbesar?", o:["Mauna Loa","Etna","Tambora","Krakatau","Fuji"], a:"Mauna Loa"},
    {q:"Komponen utama matahari?", o:["Hidrogen","Oksigen","Helium","Karbon","Nitrogen"], a:"Hidrogen"},
    {q:"Negara penghasil kopi terbesar?", o:["Brasil","Kolombia","Vietnam","Ethiopia","Indonesia"], a:"Brasil"}
];

/* ===========================
   VARIABEL
   =========================== */
let index = 0;
let score = 0;

/* ===========================
   MULAI KUIS
   =========================== */
function startQuiz() {
    document.getElementById("startScreen").style.display = "none";
    document.getElementById("quizContainer").style.display = "block";
    loadQuestion();
}

/* ===========================
   TAMPILKAN SOAL
   =========================== */
function loadQuestion() {
    let q = quizData[index];

    // Acak pilihan
    let options = [...q.o].sort(() => Math.random() - 0.5);

    document.getElementById("question").innerHTML = q.q;
    document.getElementById("options").innerHTML = "";

    options.forEach(opt => {
        let div = document.createElement("div");
        div.className = "option";
        div.innerHTML = opt;
        div.onclick = () => checkAnswer(opt);
        document.getElementById("options").appendChild(div);
    });

    document.getElementById("progress").innerHTML = 
        `Soal ${index + 1} dari ${quizData.length}`;
}

/* ===========================
   CEK JAWABAN
   =========================== */
function checkAnswer(selected) {
    let correct = quizData[index].a;

    if (selected === correct) {
        score++;
        alert("Benar! üéâ");
    } else {
        alert("Salah! ‚ùå");
    }

    index++;

    if (index < quizData.length) loadQuestion();
    else endQuiz();
}

/* ===========================
   AKHIR KUIS
   =========================== */
function endQuiz() {
    document.getElementById("quizContainer").style.display = "none";
    document.getElementById("resultScreen").style.display = "block";

    document.getElementById("finalScore").innerHTML = 
        `Skor Kamu: ${score} / ${quizData.length}`;

    startConfetti();
}

/* ===========================
   LEADERBOARD
   =========================== */
function saveScore() {
    let board = JSON.parse(localStorage.getItem("leaderboard") || "[]");
    board.push(score);
    board.sort((a,b)=>b-a);
    localStorage.setItem("leaderboard", JSON.stringify(board.slice(0,10)));

    alert("Skor tersimpan!");
}

function showLeaderboard() {
    document.getElementById("resultScreen").style.display = "none";
    document.getElementById("leaderboard").style.display = "block";

    let board = JSON.parse(localStorage.getItem("leaderboard") || "[]");
    let list = document.getElementById("leaderList");

    list.innerHTML = "";
    board.forEach((s,i)=>{
        let li = document.createElement("li");
        li.innerHTML = `${i+1}. ${s}`;
        list.appendChild(li);
    });
}

/* ===========================
   CONFETTI
   =========================== */
function startConfetti() {
    const canvas = document.getElementById("confettiCanvas");
    const ctx = canvas.getContext("2d");
    canvas.style.display = "block";

    const pieces = [];
    for (let i=0;i<150;i++){
        pieces.push({
            x: Math.random()*canvas.width,
            y: Math.random()*canvas.height,
            w: 5,
            h: 10,
            c: `hsl(${Math.random()*360},100%,50%)`,
            s: Math.random()*3+2
        });
    }

    function frame(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        pieces.forEach(p=>{
            p.y += p.s;
            if(p.y>canvas.height) p.y = -10;
            ctx.fillStyle = p.c;
            ctx.fillRect(p.x,p.y,p.w,p.h);
        });
        requestAnimationFrame(frame);
    }
    frame();
}
</script>

</body>
</html>
